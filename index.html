<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'unsafe-inline' https://cdn.jsdelivr.net https://cello-phane.github.io; script-src-elem 'unsafe-inline' https://cdn.jsdelivr.net https://cello-phane.github.io"> -->

    <title>Radical Angle Unit - Vector Visualization</title>
    <link rel="stylesheet" href="css/style.css">
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [
                    ['$', '$'],
                    ['\\(', '\\)']
                ]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body>
    <header>
        <h1>Radical Angle Unit - Vector Visualization</h1>
        <button id="toggleButton" class="toggle-btn">Switch to Vector Diagram</button>
        <button id="themeToggle" class="toggle-btn">ðŸŒ™ Dark Mode</button>
    </header>

    <div id="formulaPanel">
        <div id="formulaHeader">
            <div class="title">Sidebar</div>
            <div class="chev" id="formulaChevron">â—€</div>
        </div>
        <button onclick="changeFontSize(1,'resultsContent')">+</button>
        <button onclick="changeFontSize(-1,'resultsContent')">-</button>
		  <button id="toggleHeaderControls" style="float:right">â—€</button>

        <div id="formulaBody">
            <!-- Vector canvas only control -->
            <div id="angleModeSidebar" style="display:none; margin: 12px 0; padding: 8px; border: 1px solid #ddd; border-radius: 6px;">
                <label for="angleMode" style="display: block; font-weight: 600; margin-bottom: 8px;">Display Mode:</label> 
                <select id="angleMode">
                    <option value="between">Angle Between Vectors</option>
                    <option value="individual">Individual Vector Angles</option>
                </select>
            </div>

            <pre id="resultsContent"></pre>
        </div>
    </div>
    <div class="content">
      <section id="section1" class="active">
          <div class="card" style="position: relative; width: 100%; max-width: 600px; margin: 0 auto;background:transparent;">
              <h2>Introduction to RAU</h2>
              <div class="desc"><strong>Quadrant-aware modular arithmetic</strong> - RAU maps a linear parameter (0â€“4) to a circle using integer and fractional parts.</div>
              <style>
                  .wrap {
                      display: relative;
                      align-items: flex-start;
                      max-width: 600px;
                      margin: 0 auto;
                  }

                  .left {
                      width: 720px;
                  }

                  .right {
                      width: 320px;
                      display: flex;
                      flex-direction: column;
                      gap: 14px;
                  }

                  svg {
                      width: 100%;
                      height: 600px;
                      display: block;
                      background: transparent;
                  }

                  input[type=range] {
                      width: 100%;
                  }

                  .row {
                      display: flex;
                      gap: 8px;
                      align-items: center;
                  }

                  .small {
                      font-size: 12px;
                      color: var(--muted);
                  }

                  .clockCard {
                      display: flex;
                      flex-direction: column;
                      align-items: center;
                      gap: 8px;
                      padding: 12px;
                      width: 100%;
                  }

                  .muted {
                      color: var(--muted);
                      font-size: 13px;
                  }
              </style>
              <div style="position: relative; width: 100%; max-width: 600px; margin: 0 auto;">
                  <!-- Canvas (interactive) -->
                  <canvas id="simpleCanvas" width="600" height="400" style="display: block; z-index: 1; position: relative;">
                  </canvas>

                  <!-- SVG overlay (non-interactive, visual only) -->
                  <svg id="prosvg" viewBox="-260 -5 517 11" preserveAspectRatio="xMidYMid meet" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
		             z-index: 2; pointer-events: none; display: block;">
                  </svg>
              </div>

              <div class="controls">
                  <div style="displaY: flex;" class="controls">
                      <label style="margin-top:8px;">Radical Angle Unit:</label>
                      <input aria-label="Phase(Angle)" type="range" id="paramSlider" min="0" max="4" step="0.0001" value="0" />
                      <input type="text" id="paramValue" style="width:8.5%;" name="RAU angle" />
                  </div>
              </div>
              <div class="row">
                  <label style="flex:1">Ticks:</label>
                  <input id="tickCount" type="range" min="4" max="120" step="4" value="72" />
                  <div class="small" id="tickVal">72</div>
              </div>

              <div class="row">
                  <label style="flex:1">Label mode:</label>
                  <select id="labelMode">
                      <option value="t">t (RAU param)</option>
                      <option value="deg">degrees</option>
                      <option value="rad">radians</option>
                      <option value="none">none</option>
                  </select>
              </div>

          </div>
      </section>

	    <section id="section2" class"inactive">
	        <div class="card">
	            <h2>Vector + Radical Angle Unit</h2>
	            <canvas id="vectorCanvas" width="600" height="400"></canvas>
	            <div class="panel">
	                <div>
	                    <div class="control-group">
	                        <label for="uLength">u length:</label>
	                        <input id="uLength" type="range" min="1" max="200" value="120">
	                        <div class="value" id="uLengthVal">120</div>
	                    </div>
	                    <div class="control-group">
	                        <label for="uAngle">u rotate:</label>
	                        <input id="uAngle" type="range" min="0.0" max="360.0" step="0.25" value="30.0">
	                        <div class="value" id="uAngleVal">30Â°</div>
	                    </div>
	                    <div class="control-group">
	                        <label for="vLength">v length:</label>
	                        <input id="vLength" type="range" min="1" max="200" value="100">
	                        <div class="value" id="vLengthVal">100</div>
	                    </div>
	                    <div class="control-group">
	                        <label for="vAngle">v rotate:</label>
	                        <input id="vAngle" type="range" min="0.0" max="360.0" step="0.25" value="90.0">
	                        <div class="value" id="vAngleVal">90Â°</div>
	                    </div>
	                </div>

	                <div class="displayProperties">
	                    <table>
									<tr>
	                            <td><label for="wrappedAngle">Wrap Angle Arc</label></td>
	                            <td><input type="checkbox" id="wrappedAngle" name="wrappedAngle"></td>
	                        </tr>
	                        <tr>
	                            <td><label for="biasAngle">Bias Angle Arc</label></td>
	                            <td><input type="checkbox" id="biasAngle" name="biasAngle"></td>
	                        </tr>	                        
	                        <tr>
	                            <td><label for="defaultAngle">Between Arc</label></td>
	                            <td><input type="checkbox" id="defaultAngle" name="defaultAngle"></td>
	                        </tr>
	                    </table>
	                </div>
	            </div>
				</div>
	    </section>
    </div>
    <script src="js/main.js"></script>
    <script src="js/geom.js"></script>
    <script src="js/vectorDraw.js"></script>
    <script src="js/uiControls.js"></script>
    <script src="js/protractor.js"></script>
</body>

</html>
