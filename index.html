<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="script-src 'unsafe-inline' https://cdn.jsdelivr.net https://cello-phane.github.io; script-src-elem 'unsafe-inline' https://cdn.jsdelivr.net https://cello-phane.github.io">
  <title>Radical Angle Unit - Vector Visualization</title>
  <link rel="stylesheet" href="style.css">
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>
  <header>
    <h1>Radical Angle Unit - Vector Visualization</h1>
    <button id="toggleButton" class="toggle-btn">Switch to Vector Diagram</button>
    <button id="themeToggle" class="toggle-btn">ðŸŒ™ Dark Mode</button>
  </header>

  <div id="formulaPanel">
    <div id="formulaHeader">
      <div class="title">Sidebar</div>
      <div class="chev" id="formulaChevron">â—€</div>
    </div>
    <div id="formulaBody">
    <button onclick="changeFontSize(1,'resultsContent')">+</button>
    <button onclick="changeFontSize(-1,'resultsContent')">-</button>
      <button onclick="toggleMathBlock()">Formulae</button>
      <div id="mathBlock" class="collapsed">
        <p style="margin:0 0 11px 0;font-weight:600">For parameter \(0.0 < t < 1.0\):</p>
        <div>\[\mathrm{rsin}(t)=\frac{t}{\sqrt{1-2t+2t^2}}\]</div>
        <div>\[\mathrm{rcos}(t)=\frac{1-t}{\sqrt{1-2t+2t^2}}\]</div>
        <div>\[\mathrm{rtan}(t)=\frac{t}{1-t}\]</div>
        <div>\[\mathrm{Inverse\ Functions (-1 < t <1)}\]</div>
        <div>\[\mathrm{rsin^{-1}}(t)=\frac{t^2-\sqrt{t^2-t^4}}{2t^2-1}\]</div>
        <div>\[\mathrm{rcos^{-1}}(t)=\frac{t^2-1+\sqrt{t^2-t^4}}{2t^2-1}\]</div>
        <div>\[\mathrm{rtan^{-1}}(t)=\frac{t}{1+t}\]</div>
      </div>

      <pre id="resultsContent"></pre>
    </div>
  </div>

  <div class="content">
    <section id="section1" class="active">
      <div class="card">
        <h2>Introduction to RAU</h2>
        <div class="desc"><strong>Quadrant-aware modular arithmetic</strong> - RAU maps a linear parameter (0â€“4) to a circle using integer and fractional parts.</div>
        <canvas id="vectorCanvas" width="600" height="400"></canvas>
        <div style="padding-left: 20%;" class="controls">
          <span id="paramValue">0.00</span>
          <input aria-label="Phase(Angle)" type="range" id="paramSlider" min="0" max="4" step="0.0025" value="0"/>
        </div>
      </div>
    </section>

    <section id="section2">
      <div class="card">
        <h2>Vector + Radical Angle Unit</h2>
        <canvas id="simpleCanvas" width="600" height="400"></canvas>
        <div class="panel">
          <div>
            <label for="angleMode">Display Mode:</label>
            <select id="angleMode">
              <option value="between">Angle Between Vectors</option>
              <option value="individual">Individual Vector Angles</option>
            </select>
          </div>
          <div class="control-group">
            <label for="uLength">u length:</label>
            <input id="uLength" type="range" min="1" max="200" value="120">
            <div class="value" id="uLengthVal">120</div>
          </div>
          <div class="control-group">
            <label for="uAngle">u rotate:</label>
            <input id="uAngle" type="range" min="0" max="360" value="30">
            <div class="value" id="uAngleVal">30Â°</div>
          </div>
          <div class="control-group">
            <label for="vLength">v length:</label>
            <input id="vLength" type="range" min="1" max="200" value="100">
            <div class="value" id="vLengthVal">100</div>
          </div>
          <div class="control-group">
            <label for="vAngle">v rotate:</label>
            <input id="vAngle" type="range" min="0" max="360" value="90">
            <div class="value" id="vAngleVal">90Â°</div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <script src="js/main.js"></script>
  <script src="js/rau.js"></script>
  <script src="js/vectorDraw.js"></script>
  <script src="js/uiControls.js"></script>
</body>
</html>
