<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Radical Angle Unit - Vector Visualization</title>
  <link rel="stylesheet" href="style.css">
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>
  <header>
    <h1>Radical Angle Unit - Vector Visualization</h1>
    <button id="toggleButton" class="toggle-btn">Switch to Vector Diagram</button>
  </header>

  <div id="formulaPanel">
    <div id="formulaHeader">
      <div class="title">Information Sidebar</div>
      <div class="chev" id="formulaChevron">◀</div>
    </div>
    <div id="formulaBody">
      <button onclick="toggleMathBlock()">Show/Hide Formulas</button>
      <div id="mathBlock" class="collapsed">
        <p><strong>For parameter \(0.0 < t < 1.0\):</strong></p>
        <div>\[\mathrm{rsin}(t)=\frac{t}{\sqrt{1-2t+2t^2}}\]</div>
        <div>\[\mathrm{rcos}(t)=\frac{1-t}{\sqrt{1-2t+2t^2}}\]</div>
        <div>\[\mathrm{rtan}(t)=\frac{t}{1-t}\]</div>
      </div>
      <strong>Vector Info</strong>
      <button onclick="changeFontSize(2,'resultsContent')">+</button>
      <button onclick="changeFontSize(-2,'resultsContent')">-</button>
      <pre id="resultsContent"></pre>

      <div class="control-group">
        <label>Conversion Ref</label>
        <input type="checkbox" id="showConversion">
      </div>
      <div id="conversionPanel">
        <canvas id="conversionCanvas" width="280" height="280"></canvas>
      </div>

      <div id="wavePanel" style="display:none;margin-top:10px">
        <canvas id="waveCanvas" style="border:1px solid #ccc;width:100%;height:200px"></canvas>
      </div>
      <label><input type="checkbox" id="showWave"> Waveform</label>
    </div>
  </div>

  <div class="content">
    <section id="section1" class="active">
      <div class="card">
        <h2>Introduction to RAU</h2>
        <div class="desc"><strong>Quadrant-aware modular arithmetic</strong> - RAU maps a linear parameter (0–4) to a circle using integer and fractional parts.</div>
        <canvas id="vectorCanvas" width="600" height="400"></canvas>
        <div class="controls">
          <label><strong>RAU Phase:</strong> <span id="paramValue">0.00</span></label><br>
          <input type="range" id="paramSlider" min="0" max="4" step="0.0001" value="0"/>
        </div>
      </div>
    </section>

    <section id="section2">
      <div class="card">
        <h2>Vector + Radical Angle Unit</h2>
        <canvas id="simpleCanvas" width="600" height="400"></canvas>
        <div class="panel">
          <div class="control-group">
            <label for="angleMode">Display Mode:</label>
            <select id="angleMode">
              <option value="between">Angle Between Vectors</option>
              <option value="individual">Individual Vector Angles</option>
            </select>
          </div>
          <div class="control-group">
            <label for="uLength">u length:</label>
            <input id="uLength" type="range" min="50" max="200" value="120">
            <div class="value" id="uLengthVal">120</div>
          </div>
          <div class="control-group">
            <label for="uAngle">u rotate:</label>
            <input id="uAngle" type="range" min="0" max="360" value="30">
            <div class="value" id="uAngleVal">30°</div>
          </div>
          <div class="control-group">
            <label for="vLength">v length:</label>
            <input id="vLength" type="range" min="50" max="200" value="100">
            <div class="value" id="vLengthVal">100</div>
          </div>
          <div class="control-group">
            <label for="vAngle">v rotate:</label>
            <input id="vAngle" type="range" min="0" max="360" value="90">
            <div class="value" id="vAngleVal">90°</div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="main.js"></script>
</body>
</html>
