<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RAU System & Vector Visualization — Full</title>
<link rel="stylesheet" type="text/css" href="index.css">

<script src="text-svg.js"></script>
<script src="preload.js"></script>
</head>
<body>

<header>
  <h1>RAU Interactive Visualizations</h1>
  <div class="top-controls">
    <button id="toggleButton" class="toggle-btn">Switch to Vector Diagram</button>
  </div>
</header>

<!-- Floating Formula Panel -->
<div id="formulaPanel" aria-hidden="false">
  <div id="formulaHeader" title="Click and hold to move around">
    <div class="title">RAU information</div>
    <div class="chev" id="formulaChevron" title="Click to expand/collapse">◀</div>
  </div>
  <div id="formulaBody">
  <button onclick="toggleMathBlock()">Show/Hide Formulas</button>

    <div id="mathBlock" class="collapsed">
      <p style="margin:0 0 8px 0; font-weight:600;">For parameter \(0.0 < t < 1.0\):</p>
      <div>
        \[
        \mathrm{rsin}(t) \;=\; \frac{t}{\sqrt{\,1.0 - 2.0t + 2.0t^{2.0}\,}}
        \]
      </div>
      <div>
        \[
        \mathrm{rcos}(t) \;=\; \frac{1.0 - t}{\sqrt{\,1.0 - 2.0t + 2.0t^{2.0}\,}}
        \]
      </div>
      <div>
        \[
        \mathrm{rtan}(t) \;=\; \frac{t}{1.0 - t}
        \]
      </div>
    </div>
    
    <strong>Vector Information</strong>
    <button onclick="changeFontSize(2,'resultsContent')">+</button>
    <button onclick="changeFontSize(-2,'resultsContent')">-</button>
    <pre id="resultsContent" style="margin:0; font-family:monospace; font-size:13px; background:#fafafa; padding:8px; border-radius:6px;"></pre>
      
    <div class="control-group">
      <label>Conversion Reference</label>
      <input type="checkbox" id="showConversion">
    </div>
   
    <div id="conversionPanel" class="conversion-panel">
      <canvas id="conversionCanvas" width="280" height="220"></canvas>
    </div>
  </div>
</div>
  
<div id="canvasContainer" style="width: 100%; max-width: 800px; margin: 0 auto;">
<!-- Section 1: RAU Explanation -->
<section id="section1" class="inactive">
  <div class="card">
    <h2 style="margin-top:2px;">RAU — Explanation</h2>
    <div class="desc">
      <strong>Key insight:</strong> RAU maps a linear parameter (0.0–4.0) to circular motion by using rational functions on quadrant diagonals.
    </div>
    <canvas id="canvas1"></canvas>

    <div class="controls" style="text-align:center;">
      <label style="font-weight:700;">t Parameter: <span id="paramValue">0.00</span></label><br>
      <input type="range" id="paramSlider" min="0" max="4" step="0.01" value="0" />
    </div>

    <div style="margin-top:12px; background:#f5f5f5; padding:10px; border-radius:8px;">
      More information @ https://www.youtube.com/watch?v=TJr4YfEgVuk
    </div>
  </div>
</section>

<!-- Section 2: Vector Diagram -->
<section id="section2" class="active">
  <div class="card">
    <h2 style="margin-top:6px;">Vector + RAU Angle Visualization</h2>

    <div class="vector-grid">
      <canvas id="canvas2"></canvas>

      <div class="panel">
        <div class="control-group">
          <label for="uLength">u length:</label>
          <input id="uLength" type="range" min="50" max="200" value="120">
          <div class="value" id="uLengthVal">120</div>
        </div>

        <div class="control-group">
          <label for="uAngle">u angle (°):</label>
          <input id="uAngle" type="range" min="0" max="360" value="30">
          <div class="value" id="uAngleVal">30°</div>
        </div>

        <div class="control-group">
          <label for="vLength">v length:</label>
          <input id="vLength" type="range" min="50" max="200" value="100">
          <div class="value" id="vLengthVal">100</div>
        </div>

        <div class="control-group">
          <label for="vAngle">v angle (°):</label>
          <input id="vAngle" type="range" min="0" max="360" value="0">
          <div class="value" id="vAngleVal">0°</div>
        </div>
      </div>
    </div>
  </div>
  
</section>
</div>
<script src="rau-viz.js"></script>

</body>
</html>
